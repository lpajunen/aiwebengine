# Environment Variables Template for AIWebEngine
# Copy this file to .env and fill in your actual values
# NEVER commit .env file with real secrets to version control!
#
# IMPORTANT: Use 'export' for variables that need to be passed to cargo/programs
# Format:  export KEY=value
#
# Usage:
#   1. Copy: cp .env.example .env
#   2. Fill in your actual values in .env
#   3. Source before running: source .env && cargo run
#   4. Or use direnv for automatic loading: https://direnv.net/

# =============================================================================
# CONFIGURATION OVERRIDES
# These override settings in config.toml
# =============================================================================

# Server Configuration
# APP_SERVER_HOST=0.0.0.0
# APP_SERVER_PORT=8080

# Logging Configuration
# APP_LOGGING_LEVEL=info
# APP_LOGGING_FILE_PATH=/var/log/aiwebengine/app.log

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string for all environments
# Format: postgresql://username:password@host:port/database
export APP_REPOSITORY__DATABASE_URL=postgresql://aiwebengine:your-db-password@localhost:5432/aiwebengine

# Connection pool size (default: 5)
export APP_REPOSITORY__MAX_CONNECTIONS=5

# Auto-run migrations on startup (set to false in production)
export APP_REPOSITORY__AUTO_MIGRATE=true

# For Docker deployments
# POSTGRES_PASSWORD=change-this-postgres-password
# DATABASE_URL=postgresql://aiwebengine:change-this-postgres-password@postgres:5432/aiwebengine

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API Key for securing endpoints
# Generate with: openssl rand -hex 32
export APP_SECURITY_API_KEY=your-secret-api-key-here

# CORS Origins (for production, specify exact domains)
# APP_SECURITY_CORS_ORIGIN_1=https://yourdomain.com
# APP_SECURITY_CORS_ORIGIN_2=https://api.yourdomain.com

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# JWT Secret (minimum 32 characters)
# Generate with: openssl rand -base64 48
# Note: Use double underscores (__) for nested config paths
# auth.jwt_secret = APP_AUTH__JWT_SECRET
export APP_AUTH__JWT_SECRET=your-super-secret-jwt-key-at-least-32-chars-long-change-this

# Bootstrap Administrators
# These users will automatically get admin role on first sign-in
# Note: Use JSON array format with double underscores
# export APP_AUTH__BOOTSTRAP_ADMINS='["admin@example.com","your-email@example.com"]'
# 
# Alternative: Set this in config.toml instead:
# bootstrap_admins = ["admin@example.com", "your-email@example.com"]

# =============================================================================
# OAUTH PROVIDERS - GOOGLE
# =============================================================================

# Get credentials from: https://console.cloud.google.com/apis/credentials
# Note: Use double underscores (__) for nested paths
# auth.providers.google.client_id = APP_AUTH__PROVIDERS__GOOGLE__CLIENT_ID
export APP_AUTH__PROVIDERS__GOOGLE__CLIENT_ID=your-google-client-id.apps.googleusercontent.com
export APP_AUTH__PROVIDERS__GOOGLE__CLIENT_SECRET=your-google-client-secret

# Redirect URI (update with your domain)
export APP_AUTH__PROVIDERS__GOOGLE__REDIRECT_URI=http://localhost:3000/auth/callback/google
# For production: https://yourdomain.com/auth/callback/google

# =============================================================================
# OAUTH PROVIDERS - MICROSOFT (Optional)
# =============================================================================

# Get credentials from: https://portal.azure.com/
# APP_AUTH_PROVIDERS_MICROSOFT_CLIENT_ID=your-microsoft-client-id
# APP_AUTH_PROVIDERS_MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
# APP_AUTH_PROVIDERS_MICROSOFT_REDIRECT_URI=http://localhost:3000/auth/callback/microsoft
# APP_AUTH_PROVIDERS_MICROSOFT_TENANT_ID=common

# =============================================================================
# OAUTH PROVIDERS - APPLE (Optional)
# =============================================================================

# Get credentials from: https://developer.apple.com/account/
# APP_AUTH_PROVIDERS_APPLE_CLIENT_ID=your-apple-client-id
# APP_AUTH_PROVIDERS_APPLE_CLIENT_SECRET=your-apple-client-secret
# APP_AUTH_PROVIDERS_APPLE_REDIRECT_URI=http://localhost:3000/auth/callback/apple
# APP_AUTH_PROVIDERS_APPLE_TEAM_ID=YOUR_TEAM_ID
# APP_AUTH_PROVIDERS_APPLE_KEY_ID=YOUR_KEY_ID
# APP_AUTH_PROVIDERS_APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----"

# =============================================================================
# SECRETS MANAGEMENT (for AI Integration)
# Prefix with SECRET_ to make them available to scripts
# =============================================================================

# Anthropic Claude API Key
# Get from: https://console.anthropic.com/
# SECRET_ANTHROPIC_API_KEY=sk-ant-api03-...

# OpenAI API Key (optional)
# Get from: https://platform.openai.com/api-keys
# SECRET_OPENAI_API_KEY=sk-...

# Google/Gemini API Key (optional)
# Get from: https://makersuite.google.com/app/apikey
# SECRET_GOOGLE_API_KEY=...

# Custom API services
# SECRET_STRIPE_API_KEY=sk_live_...
# SECRET_SENDGRID_API_KEY=SG...
# SECRET_CUSTOM_SERVICE_TOKEN=...

# =============================================================================
# DEVELOPMENT HELPERS
# =============================================================================

# Rust logging level (for development debugging)
export RUST_LOG=info

# Rust backtrace (for debugging panics)
# RUST_BACKTRACE=1
# RUST_BACKTRACE=full

# Monitoring (optional, for Docker deployments)
# GRAFANA_PASSWORD=admin
