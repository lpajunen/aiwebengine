# Production Configuration
# This configuration is optimized for production deployment with security and performance

[server]
# Bind to all interfaces in production
host = "0.0.0.0"
port = 8080
# Longer timeout for production reliability
request_timeout_ms = 30000
# Larger body limit for production workloads
max_body_size_mb = 10

[logging]
# Error level only for production performance
level = "error"
# Structured logging for production log aggregation
structured = true
# Log to file only in production
targets = ["file"]
file_path = "/var/log/aiwebengine/aiwebengine.log"
# Rotate logs hourly for production volume
rotation = "hourly"
# Keep logs for 30 days for compliance
retention_days = 30

[javascript]
# Larger memory limit for production workloads
max_memory_mb = 128
# Longer execution timeout for production
execution_timeout_ms = 10000
# Larger stack size for production
max_stack_size = 262144
# Disable console in production for security
enable_console = false
# Restrict APIs in production for security
allowed_apis = ["fetch", "database", "logging"]

[repository]
# Use PostgreSQL for production scalability
database_type = "postgresql"
database_url = "postgresql://username:password@localhost/aiwebengine_prod"
# Large connection pool for production
max_connections = 50
# Longer timeout for production reliability
connection_timeout_ms = 10000
# Disable auto-migrate in production for safety
auto_migrate = false

[security]
# Enable CORS with specific origins
enable_cors = true
# Restrict origins in production
cors_origins = ["https://yourdomain.com", "https://api.yourdomain.com"]
# Rate limiting in production
rate_limit_per_minute = 1000
# Strong API key for production (should be from environment)
api_key = "${API_KEY}"
# Require HTTPS in production
require_https = true
# Restrict content types in production
allowed_content_types = ["application/json", "application/x-www-form-urlencoded"]

[performance]
# Large cache for production performance
cache_size_mb = 512
# Longer cache TTL for production efficiency
cache_ttl_seconds = 3600
# Enable compression for production bandwidth
enable_compression = true
# Large worker pool for production concurrency
worker_pool_size = 8
# Large request queue for production load
max_request_queue_size = 1000