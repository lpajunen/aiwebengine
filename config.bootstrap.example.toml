# Example Configuration with Bootstrap Admins
# This shows how to configure bootstrap administrators who automatically
# receive admin privileges on first sign-in

[auth]
# JWT secret for session management (minimum 32 characters)
jwt_secret = "your-super-secret-jwt-key-at-least-32-chars-long"

# Session timeout in seconds (1 hour)
session_timeout = 3600

# Maximum concurrent sessions per user
max_concurrent_sessions = 3

# Enable authentication
enabled = true

# Bootstrap admin emails
# Users with these emails will automatically receive Administrator role on first sign-in
# This allows you to bootstrap the system with an initial admin who can then
# grant roles to other users through the /manager UI
bootstrap_admins = [
    "admin@example.com",
    "admin@company.com"
]

[auth.cookie]
name = "aiwebengine_session"
secure = false  # Set to true in production with HTTPS
http_only = true
same_site = "lax"
path = "/"

# OAuth Providers Configuration
# Configure at least one provider to enable authentication

[auth.providers.google]
client_id = "your-google-client-id.apps.googleusercontent.com"
client_secret = "your-google-client-secret"
redirect_uri = "http://localhost:8080/auth/callback/google"
scopes = ["openid", "email", "profile"]

# Optional: Microsoft Azure AD
# [auth.providers.microsoft]
# client_id = "your-microsoft-client-id"
# client_secret = "your-microsoft-client-secret"
# redirect_uri = "http://localhost:8080/auth/callback/microsoft"
# tenant_id = "common"  # or your tenant ID
# scopes = ["openid", "email", "profile"]

# Optional: Apple Sign In
# [auth.providers.apple]
# client_id = "your-apple-client-id"
# client_secret = "your-apple-client-secret"
# redirect_uri = "http://localhost:8080/auth/callback/apple"
# team_id = "YOUR_TEAM_ID"
# key_id = "YOUR_KEY_ID"
# private_key = """
# -----BEGIN PRIVATE KEY-----
# Your private key here
# -----END PRIVATE KEY-----
# """

[server]
host = "0.0.0.0"
port = 8080

[logging]
level = "info"
