# Constrained Secrets Configuration Template
# Copy this file to secrets.toml and fill in your actual values
# IMPORTANT: Add secrets.toml to .gitignore!
#
# This file allows you to specify access control for secrets
# Secrets can only be used by specific scripts calling specific URLs
#
# Format:
# [[secret]]
# identifier = "secret_name"              # Secret identifier (used in {{secret:name}})
# value = "actual_secret_value"           # The actual secret value
# allowed_url_pattern = "https://..."     # Glob pattern for allowed URLs
# allowed_script_pattern = "/scripts/..." # Glob pattern for allowed script URIs

# Example: Anthropic API - only for AI scripts
[[secret]]
identifier = "anthropic_api_key"
value = "sk-ant-REPLACE_WITH_YOUR_KEY"
allowed_url_pattern = "https://api.anthropic.com/*"
allowed_script_pattern = "/scripts/ai/*"

# Example: GitHub token - only for integration scripts
[[secret]]
identifier = "github_token"
value = "ghp_REPLACE_WITH_YOUR_TOKEN"
allowed_url_pattern = "https://api.github.com/*"
allowed_script_pattern = "/scripts/integrations/github*"

# Example: OpenAI API - AI scripts only
# [[secret]]
# identifier = "openai_api_key"
# value = "sk-REPLACE_WITH_YOUR_KEY"
# allowed_url_pattern = "https://api.openai.com/*"
# allowed_script_pattern = "/scripts/ai/*"

# Example: SendGrid - email scripts only
# [[secret]]
# identifier = "sendgrid_api_key"
# value = "SG.REPLACE_WITH_YOUR_KEY"
# allowed_url_pattern = "https://api.sendgrid.com/*"
# allowed_script_pattern = "/scripts/email/*"

# Example: Stripe - payment scripts only
# [[secret]]
# identifier = "stripe_secret_key"
# value = "sk_live_REPLACE_WITH_YOUR_KEY"
# allowed_url_pattern = "https://api.stripe.com/*"
# allowed_script_pattern = "/scripts/payments/*"

# Example: AWS - all AWS services for cloud scripts
# [[secret]]
# identifier = "aws_access_key"
# value = "AKIA_REPLACE_WITH_YOUR_KEY"
# allowed_url_pattern = "https://*.amazonaws.com/*"
# allowed_script_pattern = "/scripts/cloud/*"

# Example: Multi-subdomain wildcard
# [[secret]]
# identifier = "api_key"
# value = "YOUR_API_KEY"
# allowed_url_pattern = "https://*.example.com/*"
# allowed_script_pattern = "/scripts/*"

# Pattern Matching Rules:
# - URL patterns: Case-insensitive (domains lowercased)
# - Script patterns: Case-sensitive (exact match required)
# - Wildcards: * matches any characters, ? matches single character
# - No ** (recursive wildcards)
#
# Examples:
#   https://api.example.com/*          matches https://api.example.com/v1/users
#   https://*.example.com/*            matches https://api.example.com/anything
#   /scripts/integrations/*.js         matches /scripts/integrations/github.js
#   /scripts/*/handler.js              matches /scripts/anything/handler.js
